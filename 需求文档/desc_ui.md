# ACFUN直播工具箱UI布局结构与设计要求

## 一、UI整体架构

ACFUN直播工具箱采用分层架构设计，整体风格为深色主题，符合直播工具的专业感和夜间使用场景需求。UI设计遵循"主客户端聚焦核心，小程序扩展功能"的架构理念，通过清晰的视觉层次和交互设计区分核心功能与扩展功能。

### 1.1 布局层次
- **应用层**：基于跨平台应用框架，包含主客户端和小程序容器
- **框架层**：自定义的布局组件（内容框架、行框架等）和小程序运行时环境
- **组件层**：核心功能组件、UI组件和小程序公共组件
- **页面层**：核心功能页面和小程序页面

### 1.2 架构特点
- **核心聚焦**：主客户端UI聚焦仪表盘、房间管理和系统设置等核心功能
- **扩展灵活**：通过小程序容器支持丰富的扩展功能，保持主界面简洁
- **一致性**：主客户端和小程序保持统一的设计语言和交互体验
- **隔离性**：小程序运行在独立的视觉和功能空间，不干扰主客户端操作

### 1.3 技术栈
- 前端框架 vue + tdesign
- 类型系统
- 组件库
- 样式处理
- 构建工具
- 状态管理
- 路由管理
- 跨平台框架
- 小程序容器技术 wujie 微前端框架

## 三、主要页面布局

### 3.1 登录页面
- **布局结构**：
  - 顶部导航栏：固定在页面顶部，包含应用logo
  - 中部登录区域：占据页面主要部分，包含二维码登录模块和欢迎界面，通过切换展示
  - 底部区域：左侧显示软件版本号，右侧显示版权信息
  - 背景图片：右下角展示固定的背景图
- **设计特点**：
  - 简洁明了的登录流程，以二维码登录为主
  - 响应式布局适配不同屏幕尺寸
  - 登录状态实时反馈
- **字段与控件**：
  - **控件**：
    - 二维码登录按钮：大型主按钮，点击后显示二维码
    - 同意条款复选框：必须勾选才能登录
    - 免责声明按钮：文本按钮，点击打开弹窗
    - 免责声明弹窗：包含免责声明文本和同意按钮
    - 欢迎界面：包含logo和欢迎文本
  - **字段**：
    - 软件版本号：显示在底部左侧
    - 登录状态文本：显示当前登录状态（登录中、登录失败、服务端状态等）
    - 二维码图片：动态生成的登录二维码

### 3.2 仪表盘页面
- **布局结构**：
  - 全屏内容框架：采用列布局
  - 欢迎区域：顶部行框架，包含欢迎信息
  - 动态内容块：多个行框架，根据数据动态生成
  - 背景图片：左侧底部展示半透明背景动画图
- **设计特点**：
  - 信息展示为主，突出欢迎信息
  - 背景图片增强视觉效果
  - 内容层次清晰，使用行框架分隔
- **字段与控件**：
  - **控件**：
    - 内容框架：全屏容器
    - 行框架：包含标题和内容区域
  - **字段**：
    - 用户名：显示当前登录用户昵称
    - 欢迎消息：个性化欢迎文本
    - 动态内容块：支持三种类型（字符串、列表、HTML）
    - 背景图片：动画GIF图

### 3.3 房间管理页面
- **布局结构**：
  - 全屏内容框架：加载状态下显示加载提示
  - 封面设置区域：顶部行框架，包含封面上传控件
  - 房间信息区域：行框架，包含标题和分区设置
  - 弹幕流链接区域：两个行框架，分别展示自定义和官方链接
  - OBS同步设置区域：行框架，包含开关和连接状态
  - RTMP设置区域：两个行框架，分别展示服务器地址和直播码
  - 推流状态区域：行框架，显示当前推流状态
  - 下播按钮区域：行框架，仅在直播时显示
- **设计特点**：
  - 功能密集但层次清晰，使用行框架有效分隔不同功能模块
  - 实时状态反馈（推流状态、OBS连接状态）
  - 操作按钮突出显示，关键操作有明确提示
- **字段与控件**：
  - **控件**：
    - 图片上传控件：支持裁剪，用于设置封面
    - 输入框：用于显示房间标题（可编辑）、弹幕流链接、RTMP服务器地址、直播码（不可编辑）
    - 开关按钮：用于控制允许观众剪辑、OBS同步功能
    - 级联选择器：用于选择直播分区
    - 按钮：复制链接、连接OBS、刷新直播码、刷新推流状态、下播
  - **字段**：
    - 封面图片：预览和上传
    - 房间标题：可编辑文本
    - 允许观众剪辑：布尔值
    - 直播分区：多级分类选择
    - 弹幕流链接：自定义和官方两个链接
    - OBS连接状态：显示在线/离线
    - RTMP服务器地址：不可编辑文本
    - 直播码：不可编辑文本，支持刷新
    - 推流状态：显示推流成功/等待中


### 3.6 小程序管理中心
- **布局结构**：
  - 内容框架：全屏容器，采用行布局
  - 顶部导航栏：包含搜索框和操作按钮
  - 分类标签栏：支持按功能类型筛选小程序
  - 小程序列表：卡片式布局，支持分页加载
  - 底部状态栏：显示小程序总数和运行状态
- **设计特点**：
  - **卡片式设计**：每个小程序卡片包含图标、名称、描述、评分和状态
  - **实时状态展示**：显示小程序运行状态、版本信息和资源占用
  - **快速操作**：支持一键启动、停止、更新和设置小程序
  - **分类管理**：通过标签快速筛选不同类型的小程序
  - **拖拽排序**：支持自定义小程序展示顺序
- **字段与控件**：
  - **控件**：
    - 搜索框：支持按名称和描述搜索
    - 按钮：刷新列表、添加小程序、批量管理、设置
    - 标签：按功能类型分类（弹幕互动、数据分析、娱乐工具等）
    - 小程序卡片：包含图标、名称、描述、评分、状态指示器和操作按钮
    - 开关：控制小程序是否启用
  - **字段**：
    - 小程序信息：名称、描述、图标、版本、开发者
    - 运行状态：未启动/运行中/异常/更新可用
    - 资源占用：CPU、内存使用情况
    - 权限状态：已授权/未授权
    - 用户评分：1-5星评分
    - 使用频率：近期使用次数



### 3.8 错误页面
- **布局结构**：
  - 全屏居中容器：使用flex布局，水平和垂直居中
  - 错误内容区：包含错误图标和文本信息
  - 错误图标：左侧显示404图片（282x218px）
  - 文本区域：右侧显示错误提示文本和返回按钮
- **设计特点**：
  - 简洁明了的错误提示，使用轻松友好的语言
  - 错误图标采用ACFUN风格的404图片
  - 突出的返回按钮，引导用户回到上一页
  - 整体布局居中，视觉焦点明确
- **字段与控件**：
  - **控件**：
    - 返回按钮：primary类型按钮，点击触发返回操作
    - 错误图标：div容器，背景图片来自CDN
  - **字段**：
    - 错误提示文本："咦？世界线变动了，你好像来到了奇怪的地方。看看其他内容吧~"

### 3.9 通用设置页面
- **布局结构**：
  - 内容框架（content-frame）：全屏绝对定位容器（100%宽高），采用行布局
  - 设置区域（row-frame）：多个独立区域，每个区域包含特定功能设置
    - 使用说明区域：顶部区域，包含打开文档按钮
    - 系统区域：包含打开控制台按钮
    - 推流工具路径区域：包含开关和文件选择控件
    - 设置端口区域：包含服务器端口和信令端口输入框
    - 配置文件区域：包含打开文件夹、备份、还原按钮
    - 配置缓存区域：包含清理按钮（当前禁用）和缓存大小显示
    - 账号缓存区域：包含清理账号缓存按钮
- **设计特点**：
  - 功能模块化，每个设置项独立成区
  - 实时保存状态反馈（保存成功提示）
  - 清晰的提示文本，指导用户正确配置
  - 关键操作有明确的视觉反馈
- **字段与控件**：
  - **控件**：
    - 按钮：打开文档、打开控制台、打开文件夹、配置备份、配置还原、清理账号缓存
    - 开关：同步启动推流工具
    - 输入框：推流工具路径、服务器端口、信令端口
    - 文本显示：缓存大小显示
  - **字段**：
    - 同步启动推流工具：控制是否同步启动推流工具的布尔值
    - 推流工具可执行文件路径
    - 服务器端口号（默认1299）
    - 信令端口号（默认4396）
    - 当前配置缓存大小（格式化显示）

### 3.10 记录管理页面
- **布局结构**：
  - 顶部区域：左侧提示文本，右侧说明文档按钮
  - 记录列表区域：垂直列表展示直播记录，每条记录占据一行
- **设计特点**：
  - 简洁明了的记录展示
  - 直观的操作按钮
  - 滚动条优化提升浏览体验
- **字段与控件**：
  - **控件**：
    - 按钮：复制下载链接、打开说明文档
    - 列表项：包含时间显示和操作按钮
    - 滚动条：自定义样式提升体验
  - **字段**：
    - 直播时间：格式化的日期时间字符串（如"1992年12月7日 12:00:00"）
    - 用于获取下载链接的唯一标识
    - 提示文本：指导用户如何使用该页面


### 3.12 推流监控页面
- **布局结构**：
  - 房间信息区域：左侧展示封面、标题、分类和已播时长
  - 数据统计区域：右侧展示观众数、点赞数、香蕉数、AC币等实时数据
  - 状态监控区域：展示推流状态、连接状态等
- **设计特点**：
  - 核心数据突出显示，便于快速查看
  - 实时更新的数据统计
  - 简洁明了的状态指示
- **字段与控件**：
  - **控件**：
    - 图标计数器：展示各类统计数据
    - 状态指示器：显示推流状态
    - 滚动标题：防止标题过长无法完全显示
  - **字段**：
    - 直播封面：房间封面图片
    - 房间标题：直播标题
    - 直播分类：一级分类和二级分类
    - 已播时长：格式化的时间字符串
    - 观众数：当前观看人数
    - 点赞数：格式化的点赞数量
    - 香蕉数：格式化的香蕉数量
    - AC币：格式化的AC币数量（钻石数量/100）


## 四、UI设计风格与特点

### 4.1 颜色方案
- 主色调：蓝色系（#1890ff）
- 背景色：深色背景（黑色或深灰色）
- 文本色：白色和浅灰色（提高可读性）
- 状态色：绿色（在线/成功）、红色（离线/失败）

### 4.2 排版
- 字体：系统默认字体，标题加粗
- 字体大小层次：
  - 标题：较大字号（18px+）
  - 正文：中等字号（14px-16px）
  - 辅助文字：较小字号（12px-13px）

### 4.3 组件风格
- 圆角设计：轻微圆角（4px）
- 阴影效果：适度阴影增强层次感
- 悬停效果：按钮和可交互元素有明显的悬停状态变化
- 一致性：相同类型的组件保持统一的设计风格

### 4.4 交互体验
- 表单验证实时反馈
- 操作成功/失败提示
- 加载状态显示
- 平滑过渡动画

## 五、响应式设计

- 适配不同屏幕分辨率（1080p、720p、480p等）
- 使用弹性布局实现弹性空间分配
- 部分页面元素根据屏幕尺寸自动调整大小或隐藏

## 六、组件库使用

主要使用第三方组件库，核心组件包括：
- 基础组件：按钮、输入框、开关、勾选框
- 表单组件：表单、选择器、级联选择器、滑块
- 导航组件：选项卡、菜单
- 消息组件：消息提示、对话框、通知
- 布局组件：容器、行、列

## 七、自定义组件

项目中开发了多个自定义组件以满足特定需求：
- 弹幕流组件
- 房间列表组件
- 超级聊组件
- 规则引擎组件
- 状态条组件

## 八、设计规范

### 8.1 布局规范
- 统一使用内容框架和行框架构建页面结构
- 保持一致的间距和边距（通常为8px、16px）
- 功能相关的元素放在同一区域

### 8.2 颜色规范
- 遵循品牌色体系
- 确保文本与背景的对比度符合无障碍标准
- 状态色使用统一（成功绿色、失败红色、警告黄色）

### 8.3 图标规范
- 使用统一的图标库
- 保持图标风格一致
- 图标大小适中，确保可读性

### 8.4 命名规范
- 组件名称使用帕斯卡命名法
- CSS类名使用短横线命名法
- 文件名称与组件名称保持一致

## 九、性能优化

- 组件懒加载
- 图片优化（压缩、懒加载）
- 样式按需加载
- 减少不必要的重绘和回流

## 十、未来优化方向

1. 增加更多主题选项（明亮主题、深色主题切换）
2. 进一步优化响应式设计，适配更多设备
3. 提升组件动画流畅度
4. 增强无障碍设计
5. 优化大流量场景下的UI表现（如高并发弹幕）